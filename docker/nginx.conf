events {
  worker_connections 20000;
}
http {
  upstream scala-brawl {
    keepalive 2;
    server api01:8888;
    server api02:8887;
  }
  server {
    listen 9999;
    access_log off;
    location / {
      keepalive_timeout 0;
      proxy_read_timeout 3600;
      proxy_pass http://scala-brawl;
        proxy_buffering off;
    }
  }
}
